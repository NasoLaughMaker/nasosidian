### 仮説

1.  datadogを見ている感じエラー発生時間前にsidekiqのpercentileが高くなっているため、タイムアウトが考えられる?
    1.  タイムアウトが起きるほどの処理時間はかかっていないから違いそう
2.  APIでConservationReportが関わっている？
    1.  8:41 ... 1m前
        1.  `GET /api/daily_maintenance/offices/45/daily_schedules/count_task_by_approval_status`
        2. `GET /api/daily_maintenance/offices/45/office_reports`
        3.  `GET api/daily_maintenance/offices/45/projects/2/detail_daily_schedule_tasks/24702`
    3.  12.20 ... 1m前  
        4\. `PUT /api/daily_maintenance/offices/163/conservation_reports/17970`  
        5\. `GET /api/daily_maintenance/office/163/conservation_reports/17970/construction_purchase_codes`
    3.  15:10 ... 1m前
        1.  `GET /api/daily_maintenance/offices/45/daily_schedules`
        2.  `GET /api/daily_maintenance/offices/45/daily_schedules/count_task_by_approval_status`
        3.  `GET /api/daily_maintenance/offices/45`
        4.  `GET /api/daily_maintenance/offices/45/gas_inspection_area_template`
    4.  8:38 ... 1m前
        1.  `GET /api/daily_maintenance/offices/45/daily_schedules`
        2.  `GET /api/daily_maintenance/offices/163/conservation_reports`
        3.  `GET /api/daily_maintenance/offices/45/daily_schedules/count_task_by_approval_status`
        4.  `GET /api/daily_maintenance/offices/45/daily_schedules`
5. 304発生時に500に化ける可能性



## `999-eneos-サーバ監視`チャンネル
- `CloudWatch`でALBのメトリクスを検知し、`5XX_COUNT`が閾値を超えたらSNSでメール送信している。
- 500エラー以外の`501~505`エラーなども対象としているため、Sentryにはないがメール送信されるものがある可能性が非常に高い。

`sudo less -f /var/log/nginx/error.log`

↑のログから確認できるPDFファイルのでエラー出た


## 整理 3/24
上記の想定で正しい。S3のバックアップを取るcronによって発生しているエラーの可能性が高いため、EC2アラートで対応。