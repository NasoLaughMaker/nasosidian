# 概要
鹿島・水島・麻里布に竹口さんのユーザーを作成する
Email：`a-takeguchi@valqua.co.jp`

# コンソールコード
## ruby
modelを経由してしまうと、validationでメール送信されてしまう
```ruby
User.create(
	name: "竹口亜貴",
	email: "a-takeguchi@valqua.co.jp",
	password: "Eneos1234567",
	password_confirmation: "Eneos1234567",
	valqua: 1,
	valqua_role: "superuser"
)
```

## SQL
メール送信されないためにSQLでレコード作成する
```ruby
ActiveRecord::Base.connection.execute("SELECT * FROM posts WHERE title LIKE 'タイトル'").to_a
```

```sql
INSERT INTO
	users(
		name,
		email,
		encrypted_password,
		valqua,
		valqua_role,
		confirmed_at
	)
VALUES
	(
		"竹口亜貴",
		"a-takeguchi@valqua.co.jp",
		hashed_password,
		1,
		"superuser",
		now()
	)
```

# 手順
- サーバーに接続
```
## 鹿島
ssh valqua-spm-eneos-kashima

## 水島
ssh valqua-spm-eneos-mizushima

## 麻里布
ssh ???
```

- コンソールに移動
```
> cd app/current
> bin/rails c
```

- rails コンソールで実行
```ruby
> require 'bcrypt'
> hashed_password = BCrypt::Password.create("Eneos1234567")
> sql=ActiveRecord::Base.send(:sanitize_sql_array,["INSERT INTO users(name, email, encrypted_password, valqua, valqua_role, confirmed_at, created_at, updated_at, otp_required_for_login) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)",'竹口亜貴','a-takeguchi@valqua.co.jp',hashed_password,1,'superuser',Time.now,Time.now,Time.now,1])
> ActiveRecord::Base.connection.execute(sql)
```
