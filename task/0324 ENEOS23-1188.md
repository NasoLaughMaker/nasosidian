本番Bee2B・堺で起きてる

Bob2B会社で起きている

許可証に登録した工事担当チーム(construction_team(team))にメールを送ろうとした際にユーザーの登録が不十分(office_roleにレコードがない)なためメールが送信できていない

実際のユーザーでも起こりうるかどうかは検証する必要あり

countで以下を満たさないパターンが存在するかどうかを集計する
```sql
      office_roles = OfficeRole.preload(:user)
                               .left_joins(:position)
                               .where(assign: construction_team, positions: { name: %w[TL/係長 班長/チーフ 工事担当] })
```


本番が始まる前にエンドユーザーがすぐに使うわけじゃない。初期に登録するユーザーにはpositionなどが空欄のユーザーがいる可能性がある。その状態で許可証を作成してメールを送るとこのエラーが発生する。


# 対応
宛先が空の場合にメールを送らないように修正
