## 概要
- オンプレ環境からAWSへ専用ネットワーク接続を確立できるサービス
    - プライベート接続
        - VPC内リソースへ接続。VGW(Virtual Private Gateway)を配置する必要あり。
    - パブリック接続
        - S3やDynamoDB等のVPC外リソースと接続。

## 接続方法
- ホスト接続
    - AWS Direct Connectパートナーが持っている一つの物理的なDirect Connect接続を複数のAWSユーザーで共有するオプション。幅広い帯域を比較的安価で利用できる。小～中規模ワークロード、すぐに導入したい場合に適する。
        - パートナーには、NTTやSoftBankなどの通信キャリアなどがいる。
- 専用接続
    - ユーザー自身が契約し、AWSが直接提供する。物理回線の手配が必要であり、維持費などもかかるため、非常に高額となる。大規模ワークロード、高速・安定が必要な場合に適する。

## 回復性レベル
冗長化を実現するため、SLAのレベルに合わせて回復レベルを選択できる。
- 最大回復性
    - データセンター、データセンター内のデバイス、ロケーション、ロケーション内のカスタマールートとDXルートの全てを複数用意し、冗長化する
- 高い回復性
    - データセンター、ロケーションを複数用意し、冗長化する。
- 開発とテスト
    - データセンター内のデバイス、ロケーション内のカスタマールートとDXルートを複数用意し、冗長化する
- クラシック
    - 全て一つずつ用意し冗長化しない。

## 仮想インタフェース
Direct Connectを利用するには、仮想インタフェース(VIF)の作成が必要。
- パブリック仮想インタフェース
    - S3やDynamoDB、VGWなどのパブリックなAWSサービスにアクセスできる。
- プライベート仮想インタフェース
    - VPCにアタッチされたVGWやDirectConnectGatewayに接続するためのインタフェース。プライベートIPアドレス空間に直接アクセスする際に使用する。
    - 異なるリージョンと接続する場合のみ、DirectConnectGatewayを利用する。
        - VGWの数は10に制限されている。さらに多くのVGWを関連づける必要があるならトランジット仮想インタフェースを利用する。
- トランジット
    - DirectConnectGatewayに関連付けられたTransit Gatewayにアクセスできる。
- パブリック仮想インタフェース + VPN
	- VGWとVPNトンネルを確立してVPCなどのプライベートネットワーク空間に接続することが可能。
	- Direct Connectの高速・低遅延な専用回線を使いながら、VPNによる強力なデータ暗号化も実現できる。

# BGP
AWSサービスから見たときのトラフィック
## インバウンドルーティングポリシー
- 7224:9100
	- ローカルAWSリージョン
- 7224:9200
	- 大陸AWSリージョンの全て
		- 北米
		- Pacific
		- 欧州・中東・アフリカ
- 7224:9300
	- グローバル（全てのパブリックAWSリージョン）
## アウトバウンドルーティングポリシー
- 7224:8100
	- AWS Direct Connectと同じAWSリージョンから送信されるトラフィックに付与されるタグ
- 7224:8200
	- AWS Direct Connectと同じ大陸から送信されるトラフィックに付与されるタグ