# 大まかなタスク
- ログの外だし
	- [ ] 出力対象の決定
	- [ ] CloudWatch Logsの設定確定（保持期間など）
	- [ ] ログの中身の精査
	- [ ] サーバー内でCloudWatch Logsの設定
- ログをS3へ出力
	- [ ] 対象ログの決定
	- [ ] ログの保存期間・S3の要件決定
	- [ ] バケット作成
	- [ ] 出力設定
		- Lambdaによる出力 or Kinesis firehoseによる出力
- ログの調査や不正アクセスの検知
	- [ ] CloudTrail, VPC Flow Logs, Route53 Resolver LogをS3に出力
	- [ ] Wizの設定
	- [ ] SQSでWizがスキャンできる仕組みの作成
- Wiz導入
	- [ ] エージェントを入れる際にEC2内の作業をする
- Session Manager導入
	- [ ] 踏み台EC2に `AmazonSSMManagedInstanceCore`を付与
	- [ ] SessionManagerの設定手順を作成
		- [ ] aws cliの設定（aws login前提）
			- aws cliをインストール
			- session manager pluginをインストール
		- [ ] Session Managerの設定（ポートフォワード前提）
		- [ ] DB接続設定
		- [ ] デプロイ設定
	- [ ] 各EC2の22番ポートを閉じる
- 個人データへのアクセス記録
	- [ ] DBのaudit logを有効化
	- [ ] CloudWatch Logsに出力
- バックアップデータのアクセス権制御
	- [ ] バックアップデータへのアクセス要件の決定
	- [ ] IAM設定（IRET？）
- SSH/DBのユーザー設定/アクセス制限
	- SSH（SSMポートフォワードによる接続）
		- [ ] ユーザーの要件/操作範囲の決定
		- [ ] 公開鍵の管理（ドキュメント化）
		- [ ] サーバー内設定
	- DB
		- [ ] ユーザーの要件/操作範囲の決定
		- [ ] 